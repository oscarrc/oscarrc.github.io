{"version":3,"file":"static/js/192.210d7862.chunk.js","mappings":"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","sources":["components/terminal/index.js","config/folders.js","components/terminal|lazy|/^/.//.*$/|groupOptions: {}|namespace object"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\r\n\r\nimport { useQueryClient } from 'react-query';\r\nimport folders from \"../../config/folders\";\r\nimport themes from \"../../config/themes\";\r\n\r\nconst Terminal = ({ isOpen, setOpen, toggleTheme }) => {\r\n    const queryClient = useQueryClient();\r\n    const inputRef = useRef(null);\r\n    const isInitialzed = useRef(false);\r\n    const termRef = useRef(null);\r\n    const [ history, setHistory ] = useState([]);\r\n    const [ lines, setLines ] = useState([]);\r\n    const [ dir, setDir ] = useState(\"\");\r\n\r\n    const addLines = (lines) => {\r\n        lines.forEach((line, index) => {\r\n            setTimeout(() => {\r\n                setLines( l => [...l, line])\r\n            }, 100 * index);\r\n        });\r\n    }\r\n\r\n    const handleForm = (e) => {\r\n        e.preventDefault();\r\n        runCommand(inputRef.current.value);\r\n    }\r\n\r\n    const runCommand = useCallback(async (input) => { \r\n        const parsed = input.split(\" \");\r\n        const cmd = parsed[0];\r\n        const opt = parsed.slice(1, input.length);\r\n        let action;\r\n        let lines;\r\n\r\n        inputRef.current.value = \"\";\r\n        \r\n        if(input !== \"error\"){\r\n            setHistory(h => [...h, input]);\r\n            ![\"clear\", \"exit\"].includes(input) && addLines([{ text: input, prefix: \">\", classes:\"text-success mt-2\" }]);\r\n        }\r\n\r\n        switch(cmd){\r\n            case \"exit\":\r\n                if(opt.length === 1 && opt.includes(\"-h\")) addLines([{ text: `Exits the terminal`}])\r\n                else if(opt.length > 1) addLines([{ text: `Unrecognized opt ${opt.join(' ')}`}])\r\n                else setOpen(false);\r\n                break;\r\n            case \"clear\":\r\n                if(opt.length === 1 && opt.includes(\"-h\")) addLines([{ text: `Clears the screen`}])\r\n                else if(opt.length) addLines([{ text: `Unrecognized opt ${opt}`}])\r\n                else setLines([]);\r\n                break;\r\n            case \"history\":\r\n                if(opt.length === 1 && opt.includes(\"-h\")) addLines([\r\n                    { text: `Shows command history`},\r\n                    { text: `Usage: history <number> - runs command in given possition`}\r\n                ])\r\n                else if(opt.length > 1 || (opt[0] && isNaN(parseInt(opt[0])))) addLines([{ text: `Unrecognized opt ${opt}`}])\r\n                else if(opt.length === 1 && !isNaN(parseInt(opt[0]))) runCommand(history[parseInt(opt)])\r\n                else {\r\n                    let h = [];\r\n                    history.forEach( (e,i) => h.push({text: <>{i}. {e}</>}));\r\n                    addLines(h);\r\n                }\r\n                break;\r\n            case \"cd\":\r\n                if(opt.length === 1 && opt.includes(\"-h\")) addLines([\r\n                    { text: `Changes the working directory`},\r\n                    { text: `Usage: cd <dir> - changes the working directory to the given dir`},\r\n                    { text: <>Use: <em>cd ..</em> to go up one level</>}\r\n                ])\r\n                if(opt.length === 1 && folders.includes(opt[0])) setDir(opt[0]);\r\n                else if(opt.length === 1 && opt[0] === \"..\") setDir(\"\");\r\n                else addLines([{ text: \"No such directory exists\"}]);\r\n                break;\r\n            case \"theme\":\r\n                const available = themes.map(t => t.name);\r\n                \r\n                if(!available.includes(opt.join(\" \"))){\r\n                    opt && opt !== '-h' && addLines([{ text: `Unrecognized theme ${opt}`}]);\r\n                    addLines([\r\n                        { text: 'Usage: theme <theme_name>'},\r\n                        { text: `Valid themes are ${available.join(', ')}`}\r\n                    ])\r\n                }\r\n                else {\r\n                    toggleTheme(opt);\r\n                    addLines([{ text: `Theme ${opt} set`}])\r\n                }\r\n                break;\r\n            case \"ls\":\r\n            case \"cat\":\r\n            case \"whoami\":\r\n                action = (await import(`./${cmd}`)).default;\r\n                lines = await action(queryClient, dir, opt);\r\n                addLines(lines);\r\n                break;\r\n            default:\r\n                try { \r\n                    action = await import(`./${cmd}`);\r\n                    addLines(action.default);\r\n                }\r\n                catch { runCommand(\"error\") }\r\n                break;\r\n        }\r\n    }, [setOpen, history, queryClient, dir, toggleTheme])\r\n\r\n    useEffect(() => {  \r\n        isOpen && inputRef.current.focus();\r\n        isOpen ? document.body.classList.add('overflow-hidden') : document.body.classList.remove('overflow-hidden');\r\n        \r\n        if(isOpen && !isInitialzed.current){ \r\n            runCommand(\"welcome\");\r\n            isInitialzed.current = true;\r\n        }\r\n    }, [isOpen, runCommand]);\r\n\r\n    useEffect(() => {        \r\n        termRef?.current && termRef.current.scrollBy({top: termRef.current.scrollHeight, behavior: \"smooth\"});\r\n    }, [lines])\r\n\r\n    return (\r\n        <div onClick={ () => inputRef.current.focus() } className={`z-30 mockup-code fixed mx-4 sm:mx-16 my-16 pt-12 transition-all inset-0 duration-250 ease-in-out origin-bottom-right ${isOpen ? 'scale-1 translate-y-0 translate-x-0' : 'scale-0 translate-y-8 translate-x-8'} shadow-lg`}>\r\n            <form onSubmit={handleForm} ref={termRef} className=\"overflow-y-scroll overflow-x-hidden h-full w-full\">\r\n                {\r\n                    lines.map( (line, index) => \r\n                        <pre className={ line.classes } key={index} data-prefix={line.prefix || \"\"}>\r\n                            <code className=\"prompt inline-block whitespace-normal break-words\">{ line.text }</code>\r\n                        </pre>\r\n                    )\r\n                }\r\n                <pre className=\"mt-4 mb-2\" data-prefix={`$`}>\r\n                    <code className=\"prompt inline-flex inline-block whitespace-normal break-words\">\r\n                        { dir && \r\n                            <div className=\"-ml-3 opacity-50 mr-1\">\r\n                                {dir}\r\n                                <span className=\"ml-1\">&gt;</span>\r\n                            </div> \r\n                        }\r\n                        <input aria-label=\"command prompt\" ref={ inputRef } className=\"input flex-1 active:outline-transparent focus:outline-transparent bg-transparent border-none p-0 h-6 rounded-none\" type=\"text\" />\r\n                    </code>\r\n                </pre>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Terminal;","const folders = [\"posts\", \"projects\"];\r\n\r\nexport default folders;","var map = {\n\t\"./\": [\n\t\t7442\n\t],\n\t\"./cat\": [\n\t\t8697,\n\t\t697\n\t],\n\t\"./cat.js\": [\n\t\t8697,\n\t\t697\n\t],\n\t\"./error\": [\n\t\t7210,\n\t\t210\n\t],\n\t\"./error.js\": [\n\t\t7210,\n\t\t210\n\t],\n\t\"./help\": [\n\t\t2306,\n\t\t306\n\t],\n\t\"./help.js\": [\n\t\t2306,\n\t\t306\n\t],\n\t\"./index\": [\n\t\t7442\n\t],\n\t\"./index.js\": [\n\t\t7442\n\t],\n\t\"./ls\": [\n\t\t4325,\n\t\t325\n\t],\n\t\"./ls.js\": [\n\t\t4325,\n\t\t325\n\t],\n\t\"./welcome\": [\n\t\t3574,\n\t\t574\n\t],\n\t\"./welcome.js\": [\n\t\t3574,\n\t\t574\n\t],\n\t\"./whoami\": [\n\t\t8164,\n\t\t164\n\t],\n\t\"./whoami.js\": [\n\t\t8164,\n\t\t164\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 4508;\nmodule.exports = webpackAsyncContext;"],"names":["isOpen","setOpen","toggleTheme","queryClient","useQueryClient","inputRef","useRef","isInitialzed","termRef","useState","history","setHistory","lines","setLines","dir","setDir","addLines","forEach","line","index","setTimeout","l","runCommand","useCallback","input","parsed","split","cmd","opt","slice","length","current","value","h","includes","text","prefix","classes","join","isNaN","parseInt","e","i","push","folders","available","themes","map","t","name","action","default","useEffect","focus","document","body","classList","add","remove","scrollBy","top","scrollHeight","behavior","onClick","className","onSubmit","preventDefault","ref","type","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","Error","code","ids","id","all","keys","Object","module","exports"],"sourceRoot":""}